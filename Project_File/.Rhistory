}
clean_list2 <- MrClean(list2)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
print(list_avgs)
for (i in 1:length(list)) {
list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
View(list_avgs)
list2_v_avgs <- lapply(list2_v, function(x) lapply(x, mean, na.rm=TRUE))
View(list2_v_avgs)
list2_v <- list2
list2_v_avgs <- lapply(list2_v, function(x) lapply(x, mean, na.rm=TRUE))
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
library(dplyr)
library(spotifyr)
library(genius)
library(tm)
library(wordcloud)
library(tidyr)
library(lexicon)
library(tidytext)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
#list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
View(clean_list2)
str(list_avgs)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
#list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
#list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
library(dplyr)
library(spotifyr)
library(genius)
library(tm)
library(wordcloud)
library(tidyr)
library(lexicon)
library(tidytext)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
#list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
#list_avgs[[i]]$key <- as.integer(list_avgs[[i]]$key)
#list_avgs <- lapply(list, function(x) lapply(x, as.integer))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
#list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
#list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
#list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
#list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
#list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
#list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
#list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
#list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
#list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
#list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(list2)
v_list <- list2[-5]
View(v_list)
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness , list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(v_list)
View(clean_list2)
View(list2)
library(ggplot2)
View(clean_list2)
barplot <- ggplot(clean_list2, aes(popularity, key))
pl1 <- clean_list2[[1]]
View(pl1)
barplot <- ggplot(pl1, aes(popularity, key))
barplot
barplot <- ggplot(pl1, aes(popularity))
barplot
barplot <- ggplot(pl1, aes(popularity))+
ylim(80, 100)
barplot
barplot <- ggplot(pl1, aes(popularity))+
xlim(80, 100)
barplot
barplot <- ggplot(pl1, aes(popularity))+
geom_bar()+
xlim(80, 100)
barplot
barplot <- ggplot(pl1, aes(popularity))+
geom_bar()+
barplot
barplot <- ggplot(pl1, aes(popularity))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(energy))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(energy, color=popularity))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(energy, color=popularity))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(energy, fill=popularity))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(energy, danceability, fill=popularity))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(energy, danceability))+
geom_bar()
barplot
barplot <- ggplot(pl1, aes(danceability))+
geom_bar()
barplot
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, as.integer(list_avgs[[i]]$danceability))
list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness, list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(v_list)
View(clean_list2)
clean_list2[[1]][["popularity"]]
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
list[[i]]$mode <- replace_na(list[[i]]$mode, list_avgs[[i]]$mode)
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness, list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(v_list)
clean_list2[[1]][["popularity"]]
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, list_avgs[[i]]$popularity)
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
list[[i]]$key <- replace_na(list[[i]]$key, list_avgs[[i]]$key)
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
list[[i]]$mode <- replace_na(list[[i]]$mode, as.integer(list_avgs[[i]]$mode))
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness, list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(v_list)
View(clean_list2)
clean_list2[[1]][["mode"]]
list2[[1]][["mode"]]
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, as.integer(list_avgs[[i]]$popularity))
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability)
list[[i]]$key <- replace_na(list[[i]]$key, as.integer(list_avgs[[i]]$key))
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness)
list[[i]]$mode <- replace_na(list[[i]]$mode, as.integer(list_avgs[[i]]$mode))
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness, list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(v_list)
View(clean_list2)
barplot <- ggplot(pl1, aes(danceability))+
geom_bar()
barplot
library(forcats)
library(hrbrthemes)
library(viridis)
install.packages("forcats")
barplot <- ggplot(pl1, aes(danceability))+
geom_violin()
barplot
barplot <- ggplot(pl1, aes(x=danceability, y=popularity, fill=energy))+
geom_violin()
barplot
barplot <- ggplot(pl1, aes(x=danceability, y=popularity, fill=energy))+
geom_violin()
barplot
data <- data.frame(
name=c( rep("A",500), rep("B",500), rep("B",500), rep("C",20), rep('D', 100)  ),
value=c( rnorm(500, 10, 5), rnorm(500, 13, 1), rnorm(500, 18, 1), rnorm(20, 25, 4), rnorm(100, 12, 1) )
)
# Most basic violin chart
p <- ggplot(data, aes(x=name, y=value, fill=name)) + # fill=name allow to automatically dedicate a color for each group
geom_violin()
library(ggplot2)
barplot <- ggplot(pl1, aes(x=danceability, y=popularity, fill=energy))+
geom_violin()
barplot
install.packages("hrbrthemes")
not_a_list <- unlist(clean_list2, recursive = TRUE, use.names = TRUE)
not_a_list <- .unlist(clean_list2, recursive = TRUE, use.names = TRUE)
not_a_list
not_a_list <- data.frame(t(sapply(clean_list2, function(x) x[1:max(lengths(clean_list2))])))
View(lyricsMatrix)
View(not_a_list)
not_a_list <- as.data.frame(clean_list2)
View(not_a_list)
View(not_a_list)
View(not_a_list)
not_a_list <- as.matrix.data.frame(clean_list2)
not_a_list <- as.matrix.data.frame(clean_list2)
pl1 <- clean_list2[[1]]
pl2 <- clean_list2[[2]]
pl3 <- clean_list2[[3]]
View(pl2)
View(list2)
# create a dataset
data <- data.frame(
name=c( rep("A",500), rep("B",500), rep("B",500), rep("C",20), rep('D', 100)  ),
value=c( rnorm(500, 10, 5), rnorm(500, 13, 1), rnorm(500, 18, 1), rnorm(20, 25, 4), rnorm(100, 12, 1) )
)
# Most basic violin chart
p <- ggplot(data, aes(x=name, y=value, fill=name)) + # fill=name allow to automatically dedicate a color for each group
geom_violin()
# create a dataset
data <- data.frame(
name=c( rep("A",500), rep("B",500), rep("B",500), rep("C",20), rep('D', 100)  ),
value=c( rnorm(500, 10, 5), rnorm(500, 13, 1), rnorm(500, 18, 1), rnorm(20, 25, 4), rnorm(100, 12, 1) )
)
# Most basic violin chart
p <- ggplot(data, aes(x=name, y=value, fill=name)) + # fill=name allow to automatically dedicate a color for each group
geom_violin()
p
View(clean_list2)
clean_list2[[1]][["key"]]
clean_list2[[1]][["key"]]*10
MrClean <- function(list){
list_avgs <- lapply(list, function(x) lapply(x, mean, na.rm=TRUE))
print(list_avgs)
str(list_avgs)
for (i in 1:length(list)) {
print(i)
list[[i]]$popularity <- replace_na(list[[i]]$popularity, as.integer(list_avgs[[i]]$popularity))
list[[i]]$danceability <- replace_na(list[[i]]$danceability, list_avgs[[i]]$danceability*10)
list[[i]]$key <- replace_na(list[[i]]$key, as.integer(list_avgs[[i]]$key))
list[[i]]$energy <- replace_na(list[[i]]$energy, list_avgs[[i]]$energy*10)
list[[i]]$loudness <- replace_na(list[[i]]$loudness, list_avgs[[i]]$loudness*10)
list[[i]]$mode <- replace_na(list[[i]]$mode, as.integer(list_avgs[[i]]$mode))
list[[i]]$speechiness <- replace_na(list[[i]]$speechiness, list_avgs[[i]]$speechiness)
list[[i]]$acousticness <- replace_na(list[[i]]$acousticness, list_avgs[[i]]$acousticness)
list[[i]]$instrumentalness <- replace_na(list[[i]]$instrumentalness, list_avgs[[i]]$instrumentalness)
list[[i]]$liveness  <- replace_na(list[[i]]$liveness, list_avgs[[i]]$liveness)
list[[i]]$valence <- replace_na(list[[i]]$valence, list_avgs[[i]]$valence)
list[[i]]$tempo <- replace_na(list[[i]]$tempo, list_avgs[[i]]$tempo)
}
return(list)
}
clean_list2 <- MrClean(v_list)
pl1 <- clean_list2[[1]]
barplot <- ggplot(pl1, aes(x=danceability, y=popularity, fill=energy))+
geom_violin()
barplot
